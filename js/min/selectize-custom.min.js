var REGEX_EMAIL="([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)",formatName=function(e){return $.trim((e.first_name||"")+" "+(e.last_name||""))};$("#select-to").selectize({persist:!1,maxItems:null,valueField:"email",labelField:"name",searchField:["first_name","last_name","email"],sortField:[{field:"first_name",direction:"asc"},{field:"last_name",direction:"asc"}],options:[{email:"nikola@tesla.com",first_name:"Nikola",last_name:"Tesla"},{email:"brian@thirdroute.com",first_name:"Brian",last_name:"Reavis"},{email:"someone@gmail.com"}],render:{item:function(e,t){var a=formatName(e);return"<div>"+(a?'<span class="name">'+t(a)+"</span>":"")+(e.email?'<span class="email">'+t(e.email)+"</span>":"")+"</div>"},option:function(e,t){var a=formatName(e),s=a||e.email,i=a?e.email:null;return'<div><span class="label">'+t(s)+"</span>"+(i?'<span class="caption">'+t(i)+"</span>":"")+"</div>"}},create:function(e){if(new RegExp("^"+REGEX_EMAIL+"$","i").test(e))return{email:e};var t=e.match(new RegExp("^([^<]*)<"+REGEX_EMAIL+">$","i"));if(t){var a=$.trim(t[1]),s=a.indexOf(" "),i=a.substring(0,s),n=a.substring(s+1);return{email:t[2],first_name:i,last_name:n}}return alert("Invalid email address."),!1}}),$("#input-tags").selectize({delimiter:",",persist:!1,createOnBlur:!0,create:function(e){return{value:e,text:e}}}),$("#select-beast").selectize({create:!0,sortField:{field:"text",direction:"asc"},dropdownParent:"body"}),$("#select-beast-disabled").selectize({create:!0,sortField:{field:"text"}}),$("#select-state").selectize({maxItems:3}),$("#select-country").selectize(),$("#select-state-disabled").selectize({maxItems:3}),$("#confirm-delete").selectize({delimiter:",",persist:!1,onDelete:function(e){return confirm(e.length>1?"Are you sure you want to remove this "+e.length+" item?":'Are you sure you want to remove "'+e[0]+'"?')}}),$("#select-repo").selectize({theme:"repositories",valueField:"url",labelField:"name",searchField:"name",options:[],create:!1,render:{option:function(e,t){return'<div><span class="title"><span class="name"><i class="icon '+(e.fork?"fork":"source")+'"></i>'+t(e.name)+'</span><span class="by">'+t(e.username)+'</span></span><span class="description">'+t(e.description)+'</span><ul class="meta">'+(e.language?'<li class="language">'+t(e.language)+"</li>":"")+'<li class="watchers"><span>'+t(e.watchers)+'</span> watchers</li><li class="forks"><span>'+t(e.forks)+"</span> forks</li></ul></div>"}},score:function(e){var t=this.getScoreFunction(e);return function(e){return t(e)*(1+Math.min(e.watchers/100,1))}},load:function(e,t){return e.length?($.ajax({url:"https://api.github.com/legacy/repos/search/"+encodeURIComponent(e),type:"GET",error:function(){t()},success:function(e){t(e.repositories.slice(0,10))}}),void 0):t()}}),$(".input-tags").selectize({plugins:["remove_button"],delimiter:",",persist:!1,create:function(e){return{value:e,text:e}},render:{item:function(e,t){return'<div>"'+t(e.text)+'"</div>'}},onDelete:function(e){return confirm(e.length>1?"Are you sure you want to remove these "+e.length+" items?":'Are you sure you want to remove "'+e[0]+'"?')}});